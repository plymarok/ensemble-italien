<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RÃ©visions Italien</title>
  <style>
    :root{--bg:#f8fafc;--card:#fff;--accent:#38bdf8;--text:#0f172a;--shadow:0 4px 12px rgba(0,0,0,.1);--radius:12px}
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;margin:0;background:var(--bg);color:var(--text)}
    header{background:var(--accent);color:#fff;padding:20px;text-align:center;font-size:1.4rem}
    section{margin:20px auto;max-width:900px;padding:0 12px}
    h2{color:var(--accent);margin:28px 0 8px;border-bottom:2px solid var(--accent);padding-bottom:6px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px 16px;margin:12px 0;display:flex;justify-content:space-between;align-items:center;gap:10px}
    .text{font-size:1.05rem}
    .btn{background:var(--accent);color:#fff;border:none;border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:600}
    .btn:active{transform:translateY(1px)}
    .note{max-width:900px;margin:10px auto 0;padding:8px 12px;color:#0f172a;background:#fff3cd;border:1px solid #facc15;border-radius:10px;font-size:.95rem}
    .hidden{display:none}
  </style>
</head>
<body>
  <header>ðŸ“˜ RÃ©visions Italien</header>

  <div id="no-tts" class="note hidden">ðŸ”‡ La synthÃ¨se vocale n'est pas disponible sur ce navigateur. Le texte reste consultable.</div>

  <section id="content">

    <h2>Formules de politesse</h2>
    <div class="card"><div class="text">Per favore â€” Sâ€™il vous plaÃ®t</div><button class="btn" data-it="Per favore" aria-label="Ã‰couter Per favore">ðŸ”Š</button></div>
    <div class="card"><div class="text">Grazie â€” Merci</div><button class="btn" data-it="Grazie" aria-label="Ã‰couter Grazie">ðŸ”Š</button></div>
    <div class="card"><div class="text">Prego â€” De rien</div><button class="btn" data-it="Prego" aria-label="Ã‰couter Prego">ðŸ”Š</button></div>
    <div class="card"><div class="text">Scusa / Scusi â€” Pardon</div><button class="btn" data-it="Scusa" aria-label="Ã‰couter Scusa">ðŸ”Š</button></div>

    <h2>Verbes essentiels â€” FARE</h2>
    <div class="card"><div class="text"><b>FARE</b> â€” faire</div><button class="btn" data-it="fare" aria-label="Ã‰couter FARE">ðŸ”Š</button></div>
    <div class="card"><div class="text">Io faccio â€” je fais</div><button class="btn" data-it="Io faccio">ðŸ”Š</button></div>
    <div class="card"><div class="text">Tu fai â€” tu fais</div><button class="btn" data-it="Tu fai">ðŸ”Š</button></div>
    <div class="card"><div class="text">Lui/lei fa â€” il/elle fait</div><button class="btn" data-it="Lui fa">ðŸ”Š</button></div>
    <div class="card"><div class="text">Noi facciamo â€” nous faisons</div><button class="btn" data-it="Noi facciamo">ðŸ”Š</button></div>
    <div class="card"><div class="text">Voi fate â€” vous faites</div><button class="btn" data-it="Voi fate">ðŸ”Š</button></div>
    <div class="card"><div class="text">Loro fanno â€” ils font</div><button class="btn" data-it="Loro fanno">ðŸ”Š</button></div>

    <h2>Pronoms interrogatifs</h2>
    <div class="card"><div class="text">PerchÃ© â€” pourquoi</div><button class="btn" data-it="PerchÃ©">ðŸ”Š</button></div>
    <div class="card"><div class="text">Quando â€” quand</div><button class="btn" data-it="Quando">ðŸ”Š</button></div>
    <div class="card"><div class="text">Chi â€” qui</div><button class="btn" data-it="Chi">ðŸ”Š</button></div>
    <div class="card"><div class="text">Dove â€” oÃ¹</div><button class="btn" data-it="Dove">ðŸ”Š</button></div>
    <div class="card"><div class="text">Come â€” comment</div><button class="btn" data-it="Come">ðŸ”Š</button></div>
    <div class="card"><div class="text">Che cosa â€” quoi</div><button class="btn" data-it="Che cosa">ðŸ”Š</button></div>
    <div class="card"><div class="text">Quanto â€” combien</div><button class="btn" data-it="Quanto">ðŸ”Š</button></div>
    <div class="card"><div class="text">Quale â€” quel(le)</div><button class="btn" data-it="Quale">ðŸ”Š</button></div>

    <h2>Expressions</h2>
    <div class="card"><div class="text">Andare in montagna â€” Aller Ã  la montagne</div><button class="btn" data-it="Andare in montagna">ðŸ”Š</button></div>
    <div class="card"><div class="text">Andare al mare â€” Aller Ã  la mer</div><button class="btn" data-it="Andare al mare">ðŸ”Š</button></div>

    <h2>Les saisons</h2>
    <div class="card"><div class="text">La primavera â€” le printemps</div><button class="btn" data-it="La primavera">ðŸ”Š</button></div>
    <div class="card"><div class="text">Lâ€™estate â€” lâ€™Ã©tÃ©</div><button class="btn" data-it="L estate">ðŸ”Š</button></div>
    <div class="card"><div class="text">Lâ€™autunno â€” lâ€™automne</div><button class="btn" data-it="L autunno">ðŸ”Š</button></div>
    <div class="card"><div class="text">Lâ€™inverno â€” lâ€™hiver</div><button class="btn" data-it="L inverno">ðŸ”Š</button></div>

    <h2>I passatempi</h2>
    <div class="card"><div class="text">Fare yoga â€” Faire du yoga ðŸ§˜</div><button class="btn" data-it="Fare yoga">ðŸ”Š</button></div>
    <div class="card"><div class="text">Giocare a calcio â€” Jouer au foot âš½</div><button class="btn" data-it="Giocare a calcio">ðŸ”Š</button></div>
    <div class="card"><div class="text">Suonare la chitarra â€” Jouer de la guitare ðŸŽ¸</div><button class="btn" data-it="Suonare la chitarra">ðŸ”Š</button></div>
  </section>

  <noscript>
    <div class="note">Active JavaScript pour utiliser l'audio.</div>
  </noscript>

  <script>
    (function(){
      // Bandeau si pas de TTS natif
      var hasTTS = 'speechSynthesis' in window && 'SpeechSynthesisUtterance' in window;
      if(!hasTTS){ document.getElementById('no-tts').classList.remove('hidden'); }

      // SÃ©lection de la voix italienne (si dispo)
      var itVoice = null;
      function pickVoice(){
        try{
          var vs = (window.speechSynthesis && speechSynthesis.getVoices()) || [];
          itVoice = null;
          for (var i=0;i<vs.length;i++){
            if (/^it(-|_|$)/i.test(vs[i].lang) || /ital/i.test(vs[i].name)) { itVoice = vs[i]; break; }
          }
        }catch(e){ itVoice = null; }
      }
      if (hasTTS){
        try{
          speechSynthesis.onvoiceschanged = pickVoice;
          setTimeout(pickVoice,0);
        }catch(e){}
      }

      function speak(text){
        if (!hasTTS || !text) return;
        try{
          var u = new SpeechSynthesisUtterance(text);
          if (itVoice){ u.voice = itVoice; u.lang = itVoice.lang; } else { u.lang = 'it-IT'; }
          u.rate = 1.0; u.pitch = 1.0;
          speechSynthesis.speak(u);
        }catch(e){}
      }

      // DÃ©lÃ©gation: lecture dÃ¨s "pointerdown" (meilleur support mobile)
      var lastTs = 0;
      function handle(e){
        var n = e.target;
        while(n && n!==document){
          if(n.matches && n.matches('button[data-it]')){
            var now = Date.now();
            if(now - lastTs > 250){ // Ã©vite double tir pointerdown/click
              lastTs = now;
              e.preventDefault();
              speak(n.getAttribute('data-it'));
            }
            break;
          }
          n = n.parentNode;
        }
      }
      document.addEventListener('pointerdown', handle, {passive:false});
      document.addEventListener('click', handle, {passive:false});
    })();
  </script>
</body>
</html>
