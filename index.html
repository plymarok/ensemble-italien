<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>R√©visions d‚Äôitalien ‚Äî Lexique & verbes (audio)</title>
  <style>
    :root{
      --bg1:#0b1224; --bg2:#0f172a;
      --card:#111b2f; --ink:#e8eef7; --muted:#9fb0c7;
      --brand:#38bdf8; --brand2:#a78bfa;
      --accent:#1f2e4d; --divider:#1e2b48;
      --radius:18px; --shadow:0 12px 28px rgba(0,0,0,.35);
    }
    html,body{
      margin:0; background:
        radial-gradient(1200px 600px at 10% -10%, #152244 0%, transparent 60%),
        radial-gradient(900px 600px at 100% 0%, #1b2c52 0%, transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      color:var(--ink); font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif
    }
    *,*:before,*:after{box-sizing:border-box}

    header{padding:26px 16px 8px; text-align:center}
    header h1{margin:0 0 6px; font-size:1.55rem}
    header p{margin:0; color:var(--muted); font-size:.95rem}

    .bar{
      position:sticky; top:0; z-index:20;
      backdrop-filter:saturate(150%) blur(8px);
      background:linear-gradient(180deg, rgba(15,23,42,.9), rgba(15,23,42,.75));
      display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap;
      padding:12px 14px; border-bottom:1px solid #1a2746
    }
    button, input[type="checkbox"]+label{
      appearance:none;
      background:linear-gradient(180deg, var(--brand), #149ed7);
      color:#fff; border:0; padding:10px 14px; border-radius:12px; font-weight:700; letter-spacing:.2px;
      box-shadow:var(--shadow); cursor:pointer; transition:transform .15s ease, filter .15s ease
    }
    .ghost{background:var(--accent)}
    .toggle{display:flex; align-items:center; gap:8px; color:var(--ink); font-weight:700}
    button:active{transform:translateY(1px)}
    @media (hover:hover){button:hover{filter:brightness(1.08); transform:translateY(-1px)}}

    .tabs{
      position:sticky; top:56px; z-index:15;
      padding:10px 14px; display:flex; gap:8px; flex-wrap:wrap; justify-content:center;
      background:linear-gradient(180deg, rgba(15,23,42,.8), rgba(15,23,42,.6));
      border-bottom:1px solid #16213f; backdrop-filter:blur(6px)
    }
    .tab{
      background:#173058; color:#cfe8ff; border:1px solid #1a2a55; border-radius:999px;
      padding:8px 12px; font-weight:800; cursor:pointer
    }
    .tab.active{background:linear-gradient(180deg, var(--brand), #149ed7); color:#fff}

    .wrap{max-width:980px; margin:0 auto; padding:14px}

    details{background:var(--card); border-radius:var(--radius); margin:14px 0; box-shadow:var(--shadow); overflow:hidden; border:1px solid #0c1733}
    summary{position:relative; padding:16px 18px; font-weight:800; list-style:none; cursor:pointer; display:flex; align-items:center; gap:10px}
    summary::marker{display:none}
    summary::after{content:"‚ñæ"; position:absolute; right:16px; top:50%; transform:translateY(-50%) rotate(-90deg); color:var(--brand); font-weight:900; transition:transform .2s}
    details[open] summary::after{transform:translateY(-50%) rotate(0)}
    .badge{background:#17233b; color:var(--brand); padding:2px 8px; border-radius:999px; font-size:.8rem}
    .list{padding:6px 12px 12px}
    .item{display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center; padding:12px 10px; border-top:1px dashed var(--divider)}
    .item:first-child{border-top:0}
    .it{font-weight:800}
    .fr{color:var(--muted); font-size:.95rem}

    .speak{background:linear-gradient(180deg, #1e3a72, #162a54); border:1px solid #1a2a55;
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; font-weight:800}
    .speak::before{content:"üîä"}
    .speak.playing{background:linear-gradient(180deg, #1f5fb3,#1d4591)}
    .speak.playing::before{content:"üîà"}

    .verbs{background:var(--card); border-radius:var(--radius); margin:14px 0; box-shadow:var(--shadow); overflow:hidden; border:1px solid #0c1733}
    .verbs header{padding:16px 18px; text-align:left; border-bottom:1px solid var(--divider)}
    .verbs h2{margin:0; font-size:1.1rem}
    .verbgrid{display:grid; gap:14px; padding:14px; grid-template-columns:1fr}
    @media (min-width:720px){ .verbgrid{ grid-template-columns:1fr 1fr } }
    .verbcard{border-radius:16px; background:linear-gradient(180deg,#0f1a33,#0c162b); overflow:hidden; border:1px solid #102349}
    .verbhead{padding:12px 14px; font-weight:900; border-bottom:1px solid var(--divider); background:linear-gradient(180deg, rgba(56,189,248,.14), transparent)}
    .row{display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center; padding:11px 12px; border-top:1px solid #0f2142}
    .row:first-child{border-top:0}
    .row .it strong{font-weight:900}

    .note{padding:10px 12px; color:var(--muted); font-size:.9rem; text-align:center}
    .hidden{display:none!important}
  </style>
</head>
<body>
  <header>
    <h1>R√©visions d‚Äôitalien ‚Äî Aide-m√©moire sonore</h1>
    <p>Appuie sur ‚ÄúTester l‚Äôaudio‚Äù, puis sur les boutons. Voix italienne auto, mode lent plus lent.</p>
  </header>

  <div class="bar">
    <button id="btnTest">üîà Tester l‚Äôaudio</button>
    <button class="ghost" id="btnStop">‚èπÔ∏è Stop</button>
    <label class="toggle"><input type="checkbox" id="slow"> Prononciation lente</label>
  </div>

  <nav class="tabs" aria-label="Cat√©gories">
    <button class="tab active" data-filter="all">Tous</button>
    <button class="tab" data-filter="verbs">Verbes</button>
    <button class="tab" data-filter="bookmark">Marque-page</button>
    <button class="tab" data-filter="passatempi">Passatempi</button>
    <button class="tab" data-filter="pronomi">Pronomi</button>
    <button class="tab" data-filter="stagioni">Montagna/Mare + Saisons</button>
  </nav>

  <div class="wrap">

    <!-- ===== VERBES ===== -->
    <section class="verbs" aria-label="Verbi da sapere" data-cat="verbs" id="verbs">
      <header><h2>‚öôÔ∏è Verbi da sapere ‚Äî pr√©sent de l‚Äôindicatif</h2></header>
      <div class="verbgrid">
        <!-- FARE -->
        <div class="verbcard">
          <div class="verbhead">FARE ‚Äî faire</div>
          <div class="row"><div>io <span class="it"><strong>faccio</strong></span></div><button class="speak" data-say="io faccio"></button></div>
          <div class="row"><div>tu <span class="it"><strong>fai</strong></span></div><button class="speak" data-say="tu fai"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>fa</strong></span></div><button class="speak" data-say="lui fa. lei fa"></button></div>
          <div class="row"><div>noi <span class="it"><strong>facciamo</strong></span></div><button class="speak" data-say="noi facciamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>fate</strong></span></div><button class="speak" data-say="voi fate"></button></div>
          <div class="row"><div>loro <span class="it"><strong>fanno</strong></span></div><button class="speak" data-say="loro fanno"></button></div>
        </div>

        <!-- POTERE -->
        <div class="verbcard">
          <div class="verbhead">POTERE ‚Äî pouvoir</div>
          <div class="row"><div>io <span class="it"><strong>posso</strong></span></div><button class="speak" data-say="io posso"></button></div>
          <div class="row"><div>tu <span class="it"><strong>puoi</strong></span></div><button class="speak" data-say="tu puoi"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>pu√≤</strong></span></div><button class="speak" data-say="lui pu√≤. lei pu√≤"></button></div>
          <div class="row"><div>noi <span class="it"><strong>possiamo</strong></span></div><button class="speak" data-say="noi possiamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>potete</strong></span></div><button class="speak" data-say="voi potete"></button></div>
          <div class="row"><div>loro <span class="it"><strong>possono</strong></span></div><button class="speak" data-say="loro possono"></button></div>
        </div>

        <!-- ANDARE -->
        <div class="verbcard">
          <div class="verbhead">ANDARE ‚Äî aller</div>
          <div class="row"><div>io <span class="it"><strong>vado</strong></span></div><button class="speak" data-say="io vado"></button></div>
          <div class="row"><div>tu <span class="it"><strong>vai</strong></span></div><button class="speak" data-say="tu vai"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>va</strong></span></div><button class="speak" data-say="lui va. lei va"></button></div>
          <div class="row"><div>noi <span class="it"><strong>andiamo</strong></span></div><button class="speak" data-say="noi andiamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>andate</strong></span></div><button class="speak" data-say="voi andate"></button></div>
          <div class="row"><div>loro <span class="it"><strong>vanno</strong></span></div><button class="speak" data-say="loro vanno"></button></div>
        </div>

        <!-- CHIAMARSI -->
        <div class="verbcard">
          <div class="verbhead">CHIAMARSI ‚Äî s‚Äôappeler</div>
          <div class="row"><div>io <span class="it"><strong>mi chiamo</strong></span></div><button class="speak" data-say="io mi chiamo"></button></div>
          <div class="row"><div>tu <span class="it"><strong>ti chiami</strong></span></div><button class="speak" data-say="tu ti chiami"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>si chiama</strong></span></div><button class="speak" data-say="lui si chiama. lei si chiama"></button></div>
          <div class="row"><div>noi <span class="it"><strong>ci chiamiamo</strong></span></div><button class="speak" data-say="noi ci chiamiamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>vi chiamate</strong></span></div><button class="speak" data-say="voi vi chiamate"></button></div>
          <div class="row"><div>loro <span class="it"><strong>si chiamano</strong></span></div><button class="speak" data-say="loro si chiamano"></button></div>
        </div>

        <!-- ESSERE -->
        <div class="verbcard">
          <div class="verbhead">ESSERE ‚Äî √™tre</div>
          <div class="row"><div>io <span class="it"><strong>sono</strong></span></div><button class="speak" data-say="io sono"></button></div>
          <div class="row"><div>tu <span class="it"><strong>sei</strong></span></div><button class="speak" data-say="tu sei"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>√®</strong></span></div><button class="speak" data-say="lui √®. lei √®"></button></div>
          <div class="row"><div>noi <span class="it"><strong>siamo</strong></span></div><button class="speak" data-say="noi siamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>siete</strong></span></div><button class="speak" data-say="voi siete"></button></div>
          <div class="row"><div>loro <span class="it"><strong>sono</strong></span></div><button class="speak" data-say="loro sono"></button></div>
        </div>

        <!-- AVERE -->
        <div class="verbcard">
          <div class="verbhead">AVERE ‚Äî avoir</div>
          <div class="row"><div>io <span class="it"><strong>ho</strong></span></div><button class="speak" data-say="io ho"></button></div>
          <div class="row"><div>tu <span class="it"><strong>hai</strong></span></div><button class="speak" data-say="tu hai"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>ha</strong></span></div><button class="speak" data-say="lui ha. lei ha"></button></div>
          <div class="row"><div>noi <span class="it"><strong>abbiamo</strong></span></div><button class="speak" data-say="noi abbiamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>avete</strong></span></div><button class="speak" data-say="voi avete"></button></div>
          <div class="row"><div>loro <span class="it"><strong>hanno</strong></span></div><button class="speak" data-say="loro hanno"></button></div>
        </div>

        <!-- PARLARE (mod√®le -ARE) -->
        <div class="verbcard">
          <div class="verbhead">PARLARE ‚Äî parler (mod√®le -ARE)</div>
          <div class="row"><div>io <span class="it"><strong>parlo</strong></span></div><button class="speak" data-say="io parlo"></button></div>
          <div class="row"><div>tu <span class="it"><strong>parli</strong></span></div><button class="speak" data-say="tu parli"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>parla</strong></span></div><button class="speak" data-say="lui parla. lei parla"></button></div>
          <div class="row"><div>noi <span class="it"><strong>parliamo</strong></span></div><button class="speak" data-say="noi parliamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>parlate</strong></span></div><button class="speak" data-say="voi parlate"></button></div>
          <div class="row"><div>loro <span class="it"><strong>parlano</strong></span></div><button class="speak" data-say="loro parlano"></button></div>
        </div>

        <!-- LEGGERE (mod√®le -ERE) -->
        <div class="verbcard">
          <div class="verbhead">LEGGERE ‚Äî lire (mod√®le -ERE)</div>
          <div class="row"><div>io <span class="it"><strong>leggo</strong></span></div><button class="speak" data-say="io leggo"></button></div>
          <div class="row"><div>tu <span class="it"><strong>leggi</strong></span></div><button class="speak" data-say="tu leggi"></button></div>
          <div class="row"><div>lui / lei <span class="it"><strong>legge</strong></span></div><button class="speak" data-say="lui legge. lei legge"></button></div>
          <div class="row"><div>noi <span class="it"><strong>leggiamo</strong></span></div><button class="speak" data-say="noi leggiamo"></button></div>
          <div class="row"><div>voi <span class="it"><strong>leggete</strong></span></div><button class="speak" data-say="voi leggete"></button></div>
          <div class="row"><div>loro <span class="it"><strong>leggono</strong></span></div><button class="speak" data-say="loro leggono"></button></div>
        </div>
      </div>
    </section>

    <!-- ===== MARQUE-PAGE ===== -->
    <details data-cat="bookmark" id="bookmark">
      <summary>üìë Expressions du marque-page <span class="badge">parler en classe</span></summary>
      <div class="list">
        <div class="item"><div><span class="it">Per favore</span> ‚Äî <span class="fr">S‚Äôil vous pla√Æt</span></div><button class="speak" data-say="Per favore"></button></div>
        <div class="item"><div><span class="it">Grazie</span> ‚Äî <span class="fr">Merci</span></div><button class="speak" data-say="Grazie"></button></div>
        <div class="item"><div><span class="it">Prego / Di niente</span> ‚Äî <span class="fr">De rien</span></div><button class="speak" data-say="Prego. Di niente."></button></div>
        <div class="item"><div><span class="it">Scusa / Scusi</span> ‚Äî <span class="fr">Pardon</span></div><button class="speak" data-say="Scusa. Scusi."></button></div>

        <div class="item"><div><span class="it">Non ho capito / Non ho sentito</span> ‚Äî <span class="fr">Je n‚Äôai pas compris / entendu</span></div><button class="speak" data-say="Non ho capito. Non ho sentito."></button></div>
        <div class="item"><div><span class="it">Pu√≤ / puoi ripetere?</span> ‚Äî <span class="fr">Pouvez-vous / tu peux r√©p√©ter ?</span></div><button class="speak" data-say="Pu√≤ ripetere? Puoi ripetere?"></button></div>
        <div class="item"><div><span class="it">Non lo so</span> ‚Äî <span class="fr">Je ne sais pas</span></div><button class="speak" data-say="Non lo so"></button></div>
        <div class="item"><div><span class="it">Come si dice ‚Ä¶ in italiano / francese?</span> ‚Äî <span class="fr">Comment dit-on ‚Ä¶ ?</span></div><button class="speak" data-say="Come si dice in italiano? Come si dice in francese?"></button></div>
        <div class="item"><div><span class="it">Cosa significa ‚Ä¶ ?</span> ‚Äî <span class="fr">Que signifie ‚Ä¶ ?</span></div><button class="speak" data-say="Cosa significa?"></button></div>

        <div class="item"><div><span class="it">Posso andare in bagno?</span> ‚Äî <span class="fr">Puis-je aller aux toilettes ?</span></div><button class="speak" data-say="Posso andare in bagno?"></button></div>
        <div class="item"><div><span class="it">Posso buttare la carta?</span> ‚Äî <span class="fr">Puis-je jeter le papier ?</span></div><button class="speak" data-say="Posso buttare la carta?"></button></div>
        <div class="item"><div><span class="it">Posso aprire / chiudere la finestra?</span> ‚Äî <span class="fr">Puis-je ouvrir / fermer la fen√™tre ?</span></div><button class="speak" data-say="Posso aprire la finestra? Posso chiudere la finestra?"></button></div>
        <div class="item"><div><span class="it">Posso bere?</span> ‚Äî <span class="fr">Puis-je boire ?</span></div><button class="speak" data-say="Posso bere?"></button></div>
        <div class="item"><div><span class="it">Posso entrare? / Posso uscire?</span> ‚Äî <span class="fr">Puis-je entrer ? / sortir ?</span></div><button class="speak" data-say="Posso entrare? Posso uscire?"></button></div>

        <div class="item"><div><span class="it">Posso avere una colla?</span> ‚Äî <span class="fr">Puis-je avoir une colle ?</span></div><button class="speak" data-say="Posso avere una colla?"></button></div>
        <div class="item"><div><span class="it">Posso avere un fazzoletto?</span> ‚Äî <span class="fr">Puis-je avoir un mouchoir ?</span></div><button class="speak" data-say="Posso avere un fazzoletto?"></button></div>
        <div class="item"><div><span class="it">Posso avere una penna?</span> ‚Äî <span class="fr">Puis-je avoir un stylo ?</span></div><button class="speak" data-say="Posso avere una penna?"></button></div>

        <div class="item"><div><span class="it">Ho finito!</span> ‚Äî <span class="fr">J‚Äôai termin√© !</span></div><button class="speak" data-say="Ho finito!"></button></div>
        <div class="item"><div><span class="it">Fatto!</span> ‚Äî <span class="fr">C‚Äôest fait !</span></div><button class="speak" data-say="Fatto!"></button></div>
        <div class="item"><div><span class="it">Posso fare qualcos‚Äôaltro?</span> ‚Äî <span class="fr">Puis-je faire autre chose ?</span></div><button class="speak" data-say="Posso fare qualcos'altro?"></button></div>

        <div class="item"><div><span class="it">Non ho fatto i compiti</span> ‚Äî <span class="fr">Je n‚Äôai pas fait les devoirs</span></div><button class="speak" data-say="Non ho fatto i compiti"></button></div>
        <div class="item"><div><span class="it">Ho dimenticato il quaderno</span> ‚Äî <span class="fr">J‚Äôai oubli√© le cahier</span></div><button class="speak" data-say="Ho dimenticato il quaderno"></button></div>
        <div class="item"><div><span class="it">Scusa / Scusi per il ritardo</span> ‚Äî <span class="fr">Pardon pour le retard</span></div><button class="speak" data-say="Scusa per il ritardo. Scusi per il ritardo."></button></div>
      </div>
    </details>

    <!-- ===== PASSATEMPI ===== -->
    <details data-cat="passatempi" id="passatempi">
      <summary>üéØ I passatempi <span class="badge">loisirs (1‚Äì16)</span></summary>
      <div class="list">
        <div class="item"><div><span class="it">Fare yoga</span> ‚Äî <span class="fr">faire du yoga</span></div><button class="speak" data-say="Fare yoga"></button></div>
        <div class="item"><div><span class="it">Pescare</span> ‚Äî <span class="fr">p√™cher</span></div><button class="speak" data-say="Pescare"></button></div>
        <div class="item"><div><span class="it">Suonare la chitarra</span> ‚Äî <span class="fr">jouer de la guitare</span></div><button class="speak" data-say="Suonare la chitarra"></button></div>
        <div class="item"><div><span class="it">Cantare</span> ‚Äî <span class="fr">chanter</span></div><button class="speak" data-say="Cantare"></button></div>
        <div class="item"><div><span class="it">Giocare a calcio</span> ‚Äî <span class="fr">jouer au foot</span></div><button class="speak" data-say="Giocare a calcio"></button></div>
        <div class="item"><div><span class="it">Andare in bici</span> ‚Äî <span class="fr">aller √† v√©lo</span></div><button class="speak" data-say="Andare in bici"></button></div>
        <div class="item"><div><span class="it">Giocare a basket</span> ‚Äî <span class="fr">jouer au basket</span></div><button class="speak" data-say="Giocare a basket"></button></div>
        <div class="item"><div><span class="it">Giocare a pallavolo</span> ‚Äî <span class="fr">jouer au volley</span></div><button class="speak" data-say="Giocare a pallavolo"></button></div>
        <div class="item"><div><span class="it">Andare a teatro</span> ‚Äî <span class="fr">aller au th√©√¢tre</span></div><button class="speak" data-say="Andare a teatro"></button></div>
        <div class="item"><div><span class="it">Dipingere</span> ‚Äî <span class="fr">peindre</span></div><button class="speak" data-say="Dipingere"></button></div>
        <div class="item"><div><span class="it">Andare al cinema</span> ‚Äî <span class="fr">aller au cin√©ma</span></div><button class="speak" data-say="Andare al cinema"></button></div>
        <div class="item"><div><span class="it">Ascoltare la musica</span> ‚Äî <span class="fr">√©couter de la musique</span></div><button class="speak" data-say="Ascoltare la musica"></button></div>
        <div class="item"><div><span class="it">Giocare ai videogiochi</span> ‚Äî <span class="fr">jouer aux jeux vid√©o</span></div><button class="speak" data-say="Giocare ai videogiochi"></button></div>
        <div class="item"><div><span class="it">Leggere</span> ‚Äî <span class="fr">lire</span></div><button class="speak" data-say="Leggere"></button></div>
        <div class="item"><div><span class="it">Viaggiare</span> ‚Äî <span class="fr">voyager</span></div><button class="speak" data-say="Viaggiare"></button></div>
        <div class="item"><div><span class="it">Giocare a cricket</span> ‚Äî <span class="fr">jouer au cricket</span></div><button class="speak" data-say="Giocare a cricket"></button></div>
      </div>
    </details>

    <!-- ===== PRONOMI ===== -->
    <details data-cat="pronomi" id="pronomi">
      <summary>‚ùì Pronomi interrogativi</summary>
      <div class="list">
        <div class="item"><div><span class="it">perch√©</span> ‚Äî <span class="fr">pourquoi</span></div><button class="speak" data-say="perch√©"></button></div>
        <div class="item"><div><span class="it">quando</span> ‚Äî <span class="fr">quand</span></div><button class="speak" data-say="quando"></button></div>
        <div class="item"><div><span class="it">chi</span> ‚Äî <span class="fr">qui</span></div><button class="speak" data-say="chi"></button></div>
        <div class="item"><div><span class="it">dove</span> ‚Äî <span class="fr">o√π</span></div><button class="speak" data-say="dove"></button></div>
        <div class="item"><div><span class="it">come</span> ‚Äî <span class="fr">comment</span></div><button class="speak" data-say="come"></button></div>
        <div class="item"><div><span class="it">che cosa</span> ‚Äî <span class="fr">que / quoi</span></div><button class="speak" data-say="che cosa"></button></div>
        <div class="item"><div><span class="it">quanto</span> ‚Äî <span class="fr">combien</span></div><button class="speak" data-say="quanto"></button></div>
        <div class="item"><div><span class="it">quale</span> ‚Äî <span class="fr">quel / quelle</span></div><button class="speak" data-say="quale"></button></div>
      </div>
    </details>

    <!-- ===== MONTAGNA/MARE + SAISONS ===== -->
    <details data-cat="stagioni" id="stagioni">
      <summary>üåÑ Andare in montagna / al mare ‚Ä¢ ‚ùÄ Le stagioni</summary>
      <div class="list">
        <div class="item"><div><span class="it">andare in montagna</span> ‚Äî <span class="fr">aller √† la montagne</span></div><button class="speak" data-say="andare in montagna"></button></div>
        <div class="item"><div><span class="it">andare al mare</span> ‚Äî <span class="fr">aller √† la mer</span></div><button class="speak" data-say="andare al mare"></button></div>
        <div class="item"><div><span class="it">la primavera</span> ‚Äî <span class="fr">le printemps</span></div><button class="speak" data-say="la primavera"></button></div>
        <div class="item"><div><span class="it">l‚Äôestate</span> ‚Äî <span class="fr">l‚Äô√©t√©</span></div><button class="speak" data-say="l'estate"></button></div>
        <div class="item"><div><span class="it">l‚Äôautunno</span> ‚Äî <span class="fr">l‚Äôautomne</span></div><button class="speak" data-say="l'autunno"></button></div>
        <div class="item"><div><span class="it">l‚Äôinverno</span> ‚Äî <span class="fr">l‚Äôhiver</span></div><button class="speak" data-say="l'inverno"></button></div>
      </div>
    </details>

    <p class="note">Astuce mobile : si l‚Äôaudio ne part pas, appuie d‚Äôabord sur ‚ÄúTester l‚Äôaudio‚Äù, garde la page √† l‚Äô√©cran et monte le volume.</p>
  </div>

  <script>
    // ===== Voix italienne auto + lecture =====
    const btnTest = document.getElementById('btnTest');
    const btnStop = document.getElementById('btnStop');
    const slow    = document.getElementById('slow');

    let voices = [];
    let itVoice = null;

    function chooseItalianVoice(list){
      return list.find(v => (v.lang||'').toLowerCase().startsWith('it')) || list[0] || null;
    }
    function loadVoices(){
      voices = speechSynthesis.getVoices();
      itVoice = chooseItalianVoice(voices);
    }
    loadVoices();
    window.speechSynthesis.onvoiceschanged = loadVoices;

    function speak(text, btn){
      if(!text) return;
      speechSynthesis.cancel();
      const u = new SpeechSynthesisUtterance(text);
      u.voice = itVoice;
      u.lang  = (itVoice && itVoice.lang) || 'it-IT';
      u.rate  = slow.checked ? 0.75 : 1.0;   // plus lent
      u.pitch = 1; u.volume = 1;
      if(btn){ btn.classList.add('playing'); u.onend = u.onerror = () => btn.classList.remove('playing'); }
      speechSynthesis.speak(u);
    }

    btnTest.addEventListener('click', () => speak('Ciao! Prova audio in italiano.', btnTest));
    btnStop.addEventListener('click', () => speechSynthesis.cancel());

    document.querySelectorAll('.speak').forEach(btn=>{
      btn.addEventListener('click', () => {
        const t = btn.getAttribute('data-say') || btn.previousElementSibling?.textContent || '';
        speak(t.trim(), btn);
      }, {passive:true});
    });

    // ===== Filtres cat√©gories =====
    const tabs = document.querySelectorAll('.tab');
    const sections = document.querySelectorAll('[data-cat]');
    function setFilter(key){
      tabs.forEach(b=>b.classList.toggle('active', b.dataset.filter===key));
      sections.forEach(sec=>{
        const show = key==='all' || sec.dataset.cat===key;
        sec.classList.toggle('hidden', !show);
        if(show && sec.tagName.toLowerCase()==='details'){ sec.open = true; }
      });
      window.scrollTo({top: document.querySelector('.bar').offsetHeight, behavior:'smooth'});
    }
    tabs.forEach(b=>b.addEventListener('click', ()=> setFilter(b.dataset.filter)));
    setFilter('all');
  </script>
</body>
</html>
